{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialCartItems = {\n  'Test Item': {\n    title: 'Test Item',\n    quantity: 3,\n    total: 18,\n    price: 6\n  },\n  'Test Item2': {\n    title: 'Test Item2',\n    quantity: 3,\n    total: 30,\n    price: 10\n  }\n};\nexport const cartItemsSlice = createSlice({\n  name: 'cartItems',\n  initialState: initialCartItems,\n  reducers: {\n    increment(state) {\n      state[state.title].quantity++;\n    },\n    decrement(state) {\n      if (state[state.title].quantity <= 1) {\n        state = Object.keys(state).filter(key => key !== state.title).reduce((newState, key) => {\n          newState[key] = state[key];\n          return newState;\n        }, {});\n        // Object.keys(state).state.splice(state[state.title], 1);\n      } else {\n        state[state.title].quantity--;\n      }\n    },\n    addToCart(state, product) {\n      const cartKey = product.payload.title;\n      console.log(product.payload);\n      console.log(state);\n      state[product.payload.title].total = (state[product.payload.title].quantity + 1) * state[product.payload.title].price;\n      state[product.payload.title].quantity++;\n      state[state.length] = product.payload.title;\n      // console.log(state);\n    }\n  }\n});","map":{"version":3,"names":["createSlice","initialCartItems","title","quantity","total","price","cartItemsSlice","name","initialState","reducers","increment","state","decrement","Object","keys","filter","key","reduce","newState","addToCart","product","cartKey","payload","console","log","length"],"sources":["/Users/greg/Documents/Learning React/redux-cart-app/src/store/cartItems.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\n\nconst initialCartItems = {\n    'Test Item': { title: 'Test Item', quantity: 3, total: 18, price: 6 },\n    'Test Item2': { title: 'Test Item2', quantity: 3, total: 30, price: 10 }\n};\n\nexport const cartItemsSlice = createSlice({\n    name: 'cartItems',\n    initialState: initialCartItems,\n    reducers: {\n        increment(state){\n            state[state.title].quantity++;\n        },\n        decrement(state){\n            if(state[state.title].quantity <= 1){\n                state = Object.keys(state).filter(key =>\n                    key !== state.title).reduce((newState, key) =>\n                    {\n                        newState[key] = state[key];\n                        return newState;\n                    }, {}\n                );\n                // Object.keys(state).state.splice(state[state.title], 1);\n            } else {\n                state[state.title].quantity--;\n            }\n        },\n        addToCart(state, product){\n            const cartKey = product.payload.title;\n            console.log(product.payload);\n            console.log(state);\n            state[product.payload.title].total = (state[product.payload.title].quantity + 1) * state[product.payload.title].price;\n            state[product.payload.title].quantity++;\n            state[state.length] = product.payload.title;\n            // console.log(state);\n        }\n    }\n});"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,gBAAgB,GAAG;EACrB,WAAW,EAAE;IAAEC,KAAK,EAAE,WAAW;IAAEC,QAAQ,EAAE,CAAC;IAAEC,KAAK,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAE,CAAC;EACrE,YAAY,EAAE;IAAEH,KAAK,EAAE,YAAY;IAAEC,QAAQ,EAAE,CAAC;IAAEC,KAAK,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAG;AAC3E,CAAC;AAED,OAAO,MAAMC,cAAc,GAAGN,WAAW,CAAC;EACtCO,IAAI,EAAE,WAAW;EACjBC,YAAY,EAAEP,gBAAgB;EAC9BQ,QAAQ,EAAE;IACNC,SAASA,CAACC,KAAK,EAAC;MACZA,KAAK,CAACA,KAAK,CAACT,KAAK,CAAC,CAACC,QAAQ,EAAE;IACjC,CAAC;IACDS,SAASA,CAACD,KAAK,EAAC;MACZ,IAAGA,KAAK,CAACA,KAAK,CAACT,KAAK,CAAC,CAACC,QAAQ,IAAI,CAAC,EAAC;QAChCQ,KAAK,GAAGE,MAAM,CAACC,IAAI,CAACH,KAAK,CAAC,CAACI,MAAM,CAACC,GAAG,IACjCA,GAAG,KAAKL,KAAK,CAACT,KAAK,CAAC,CAACe,MAAM,CAAC,CAACC,QAAQ,EAAEF,GAAG,KAC1C;UACIE,QAAQ,CAACF,GAAG,CAAC,GAAGL,KAAK,CAACK,GAAG,CAAC;UAC1B,OAAOE,QAAQ;QACnB,CAAC,EAAE,CAAC,CACR,CAAC;QACD;MACJ,CAAC,MAAM;QACHP,KAAK,CAACA,KAAK,CAACT,KAAK,CAAC,CAACC,QAAQ,EAAE;MACjC;IACJ,CAAC;IACDgB,SAASA,CAACR,KAAK,EAAES,OAAO,EAAC;MACrB,MAAMC,OAAO,GAAGD,OAAO,CAACE,OAAO,CAACpB,KAAK;MACrCqB,OAAO,CAACC,GAAG,CAACJ,OAAO,CAACE,OAAO,CAAC;MAC5BC,OAAO,CAACC,GAAG,CAACb,KAAK,CAAC;MAClBA,KAAK,CAACS,OAAO,CAACE,OAAO,CAACpB,KAAK,CAAC,CAACE,KAAK,GAAG,CAACO,KAAK,CAACS,OAAO,CAACE,OAAO,CAACpB,KAAK,CAAC,CAACC,QAAQ,GAAG,CAAC,IAAIQ,KAAK,CAACS,OAAO,CAACE,OAAO,CAACpB,KAAK,CAAC,CAACG,KAAK;MACrHM,KAAK,CAACS,OAAO,CAACE,OAAO,CAACpB,KAAK,CAAC,CAACC,QAAQ,EAAE;MACvCQ,KAAK,CAACA,KAAK,CAACc,MAAM,CAAC,GAAGL,OAAO,CAACE,OAAO,CAACpB,KAAK;MAC3C;IACJ;EACJ;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}